<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de Administraci√≥n - SUBE IA</title>
  <link rel="stylesheet" href="css/admin.css">
</head>
<body style="display: none;">
  <div class="admin-container">
    <header class="admin-header">
      <div class="header-content">
        <h1>üìä Panel de Administraci√≥n</h1>
        <div class="header-actions">
          <h2>SUBE IA TECH</h2>
          <a href="index.html" class="btn btn-primary">Crear Nueva Cotizaci√≥n</a>
          <button onclick="cerrarSesion()" class="btn btn-logout">Cerrar Sesi√≥n</button>
        </div>
      </div>
      <div id="user-info" class="user-info"></div>
    </header>

    <main class="admin-main">
      <div class="stats-section">
        <div class="stat-card">
          <h3>Total Cotizaciones</h3>
          <p id="total-cotizaciones">0</p>
        </div>
        <div class="stat-card">
          <h3>Este Mes</h3>
          <p id="cotizaciones-mes">0</p>
        </div>
        <div class="stat-card">
          <h3>Valor Total</h3>
          <p id="valor-total">$0</p>
        </div>
      </div>

      <div class="filters-section">
        <div class="search-group">
          <label for="buscador">üîç Buscar en tiempo real:</label>
          <input type="text" id="buscador" placeholder="Buscar por c√≥digo, nombre, empresa, email, atendido..." class="search-input">
        </div>
        <div class="filter-group">
          <label for="filtro-fecha">Filtrar por fecha:</label>
          <select id="filtro-fecha">
            <option value="todos">Todos</option>
            <option value="hoy">Hoy</option>
            <option value="semana">Esta semana</option>
            <option value="mes">Este mes</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="filtro-atendedor">Filtrar por atendido:</label>
          <select id="filtro-atendedor">
            <option value="todos">Todos</option>
            <option value="Rodrigo Carrillo">Rodrigo Carrillo</option>
            <option value="Bruno Villalobos">Bruno Villalobos</option>
            <option value="Mario Mu√±oz">Mario Mu√±oz</option>
            <option value="Nicol√°s Valenzuela">Nicol√°s Valenzuela</option>
            <option value="Ignacio Villarroel">Ignacio Villarroel</option>
          </select>
        </div>
        <button id="aplicar-filtros" class="btn btn-filter">Aplicar Filtros</button>
      </div>

      <div class="cotizaciones-section">
        <h2>üìã Lista de Cotizaciones</h2>
        <div id="cotizaciones-list" class="cotizaciones-list">
          <div class="loading">Cargando cotizaciones...</div>
        </div>
      </div>
    </main>
  </div>

  <!-- Firebase -->
  <script type="module">
    // Importar Firebase usando m√≥dulos ES6
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    
    // Configuraci√≥n de Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyAuR2-zHQAkjbLABtIuBcSo9MgIlCGWusg",
      authDomain: "cotizador-bba5a.firebaseapp.com",
      projectId: "cotizador-bba5a",
      storageBucket: "cotizador-bba5a.firebasestorage.app",
      messagingSenderId: "372617480143",
      appId: "1:372617480143:web:67bda8c05dbeebb6e6b4ba"
    };
    
    // Inicializar Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    
    // Hacer disponibles globalmente
    window.auth = auth;
    window.db = db;
    
    console.log('‚úÖ Firebase inicializado correctamente en admin');
  </script>
  
  <!-- html2pdf -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  
  <!-- Script del admin -->
  <script type="module" src="js/admin.js"></script>
  <script type="module" src="js/auth-guard.js"></script>
</body>
</html> 